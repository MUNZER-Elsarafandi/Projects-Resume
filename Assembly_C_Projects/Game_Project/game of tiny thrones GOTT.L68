0000105E Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 3/6/2025 1:10:49 AM

00000000                             1  *------------------------
00000000                             2  * NAME - MUNZER ELSARAFANDI
00000000                             3  * ID - C00281934
00000000                             4  * DATE - 28/02/2025
00000000                             5  *------------------------
00001000                             6      ORG    $1000
00001000                             7      
00001000                             8  DATA_SECTION:
00001000= 0032                       9  GOLD          DC.W  50
00001002= 0032                      10  FOOD          DC.W  50
00001004= 000A                      11  ARMY          DC.W  10
00001006= 0050                      12  HAPPINESS     DC.W  80
00001008= 0000                      13  TURN_COUNT    DC.W  0
0000100A= 04D2                      14  RANDOM_SEED   DC.W  1234
0000100C= 0000                      15  DIFFICULTY    DC.W  0     ; 0 = normal mode, 1 = hard mode
0000100E                            16  STATS_BUFFER  DS.B  80
0000105E                            17  
0000105E                            18  * -------------------
0000105E                            19  * Main Game Loop
0000105E                            20  * -------------------
0000105E                            21  START:
0000105E  43F9 00001667             22      LEA    TITLE_MSG,A1
00001064  103C 000E                 23      MOVE.B #14,D0
00001068  4E4F                      24      TRAP   #15
0000106A  11FC 0001 2000            25      MOVE.B #1,$2000
00001070                            26      
00001070                            27  GAME_LOOP:
00001070  6100 00A0                 28      BSR    DISPLAY_STATS
00001074                            29      
00001074  3038 1008                 30      MOVE.W TURN_COUNT,D0
00001078  B07C 0032                 31      CMP.W  #50,D0
0000107C  6700 050E                 32      BEQ    WIN_GAME
00001080                            33      
00001080  3038 1006                 34      MOVE.W HAPPINESS,D0
00001084  B07C 0000                 35      CMP.W  #0,D0
00001088  6F00 055E                 36      BLE    LOSE_GAME
0000108C                            37      
0000108C  3038 1002                 38      MOVE.W FOOD,D0
00001090  B07C 0000                 39      CMP.W  #0,D0
00001094  6F00 0552                 40      BLE    LOSE_GAME
00001098                            41      
00001098  3038 1000                 42      MOVE.W GOLD,D0
0000109C  B07C 0000                 43      CMP.W  #0,D0
000010A0  6F00 0546                 44      BLE    LOSE_GAME
000010A4                            45      
000010A4  43F9 00001A75             46      LEA    PROMPT_MSG,A1
000010AA  6100 005E                 47      BSR    PRINT_STRING
000010AE  6100 003E                 48      BSR    GET_INPUT
000010B2                            49      
000010B2  B03C 0031                 50      CMP.B  #'1',D0
000010B6  6700 024C                 51      BEQ    EXPAND_KINGDOM
000010BA  B03C 0032                 52      CMP.B  #'2',D0
000010BE  6700 02A0                 53      BEQ    COLLECT_TAXES
000010C2  B03C 0033                 54      CMP.B  #'3',D0
000010C6  6700 02D8                 55      BEQ    TRAIN_ARMY
000010CA  B03C 0034                 56      CMP.B  #'4',D0
000010CE  6700 0346                 57      BEQ    DECLARE_WAR
000010D2  B03C 0035                 58      CMP.B  #'5',D0
000010D6  6700 043C                 59      BEQ    TRADE_RESOURCES
000010DA  B03C 0036                 60      CMP.B  #'6',D0
000010DE  6700 049E                 61      BEQ    SAVE_EXIT
000010E2                            62      
000010E2  43F9 00002555             63      LEA    INVALID_MSG,A1
000010E8  6100 0020                 64      BSR    PRINT_STRING
000010EC  6082                      65      BRA    GAME_LOOP
000010EE                            66  
000010EE                            67  * -------------------
000010EE                            68  * Subroutines
000010EE                            69  * -------------------
000010EE                            70  GET_INPUT:
000010EE  6100 0506                 71      BSR    EXIT
000010F2  43F9 00001AB6             72      LEA    INPUT_PROMPT_MSG,A1
000010F8  103C 000E                 73      MOVE.B #14,D0
000010FC  4E4F                      74      TRAP   #15
000010FE  4200                      75      CLR.B  D0                ; Clear D0 to avoid residual values
00001100  103C 0005                 76      MOVE.B #5,D0
00001104  4E4F                      77      TRAP   #15
00001106  1001                      78      MOVE.B D1,D0
00001108  4E75                      79      RTS
0000110A                            80  
0000110A                            81  PRINT_STRING:
0000110A  103C 000E                 82      MOVE.B #14,D0
0000110E  4E4F                      83      TRAP   #15
00001110  4E75                      84      RTS
00001112                            85  
00001112                            86  DISPLAY_STATS:
00001112  43F8 100E                 87      LEA    STATS_BUFFER,A1
00001116  45F9 0000258D             88      LEA    TURN_LABEL,A2
0000111C  6100 0078                 89      BSR    COPY_STRING
00001120  3038 1008                 90      MOVE.W TURN_COUNT,D0
00001124  6100 007C                 91      BSR    NUM_TO_STRING
00001128                            92      
00001128  12FC 0020                 93      MOVE.B #' ',(A1)+
0000112C  45F9 00002595             94      LEA    GOLD_LABEL,A2
00001132  6100 0062                 95      BSR    COPY_STRING
00001136  3038 1000                 96      MOVE.W GOLD,D0
0000113A  6100 0066                 97      BSR    NUM_TO_STRING
0000113E                            98      
0000113E  12FC 0020                 99      MOVE.B #' ',(A1)+
00001142  45F9 0000259D            100      LEA    FOOD_LABEL,A2
00001148  6100 004C                101      BSR    COPY_STRING
0000114C  3038 1002                102      MOVE.W FOOD,D0
00001150  6100 0050                103      BSR    NUM_TO_STRING
00001154                           104      
00001154  12FC 0020                105      MOVE.B #' ',(A1)+
00001158  45F9 000025A5            106      LEA    ARMY_LABEL,A2
0000115E  6100 0036                107      BSR    COPY_STRING
00001162  3038 1004                108      MOVE.W ARMY,D0
00001166  6100 003A                109      BSR    NUM_TO_STRING
0000116A                           110      
0000116A  12FC 0020                111      MOVE.B #' ',(A1)+
0000116E  45F9 000025AD            112      LEA    HAPPINESS_LABEL,A2
00001174  6100 0020                113      BSR    COPY_STRING
00001178  3038 1006                114      MOVE.W HAPPINESS,D0
0000117C  6100 0024                115      BSR    NUM_TO_STRING
00001180                           116      
00001180  12FC 000A                117      MOVE.B #10,(A1)+
00001184  12FC 000D                118      MOVE.B #13,(A1)+
00001188  12BC 0000                119      MOVE.B #0,(A1)
0000118C  43F8 100E                120      LEA    STATS_BUFFER,A1
00001190  6100 FF78                121      BSR    PRINT_STRING
00001194  4E75                     122      RTS
00001196                           123  
00001196                           124  COPY_STRING:
00001196  121A                     125      MOVE.B (A2)+,D1
00001198  6700 0006                126      BEQ    COPY_DONE
0000119C  12C1                     127      MOVE.B D1,(A1)+
0000119E  60F6                     128      BRA    COPY_STRING
000011A0                           129  COPY_DONE:
000011A0  4E75                     130      RTS
000011A2                           131  
000011A2                           132  NUM_TO_STRING:
000011A2  4281                     133      CLR.L  D1
000011A4  4282                     134      CLR.L  D2
000011A6  3200                     135      MOVE.W D0,D1
000011A8  6700 0020                136      BEQ    ZERO_CASE
000011AC                           137      
000011AC                           138  CONVERT_LOOP:
000011AC  82FC 000A                139      DIVU   #10,D1
000011B0  4841                     140      SWAP   D1
000011B2  0601 0030                141      ADD.B  #'0',D1
000011B6  1F01                     142      MOVE.B D1,-(SP)
000011B8  4241                     143      CLR.W  D1
000011BA  4841                     144      SWAP   D1
000011BC  5242                     145      ADDQ   #1,D2
000011BE  4A41                     146      TST.W  D1
000011C0  66EA                     147      BNE    CONVERT_LOOP
000011C2                           148      
000011C2                           149  POP_DIGITS:
000011C2  12DF                     150      MOVE.B (SP)+,(A1)+
000011C4  5342                     151      SUBQ   #1,D2
000011C6  66FA                     152      BNE    POP_DIGITS
000011C8  4E75                     153      RTS
000011CA                           154  
000011CA                           155  ZERO_CASE:
000011CA  12FC 0030                156      MOVE.B #'0',(A1)+
000011CE  4E75                     157      RTS
000011D0                           158  
000011D0                           159  RANDOM_EVENT:
000011D0  3038 100A                160      MOVE.W RANDOM_SEED,D0
000011D4  C0FC 000D                161      MULU   #13,D0
000011D8  5E40                     162      ADD.W  #7,D0
000011DA  80FC 0064                163      DIVU   #100,D0
000011DE  4840                     164      SWAP   D0
000011E0  31C0 100A                165      MOVE.W D0,RANDOM_SEED
000011E4                           166      
000011E4  3238 100C                167      MOVE.W DIFFICULTY,D1
000011E8  B27C 0001                168      CMP.W  #1,D1
000011EC  6700 002E                169      BEQ    HARD_RANDOM
000011F0                           170      
000011F0                           171  NORMAL_RANDOM:
000011F0  B07C 005A                172      CMP.W  #90,D0            ; 10% no event (90-99)
000011F4  6C00 0106                173      BGE    NO_EVENT
000011F8  B07C 0046                174      CMP.W  #70,D0            ; 20% good day (70-89)
000011FC  6C00 00C8                175      BGE    GOOD_DAY_EVENT
00001200  B07C 0032                176      CMP.W  #50,D0            ; 20% snowy (50-69)
00001204  6C00 0076                177      BGE    SNOWY_EVENT
00001208  B07C 0028                178      CMP.W  #40,D0            ; 10% drought (40-49)
0000120C  6C00 003A                179      BGE    DROUGHT_EVENT
00001210  B07C 0014                180      CMP.W  #20,D0            ; 20% bee (20-39)
00001214  6C00 00C8                181      BGE    BEE_EVENT
00001218  6000 00E2                182      BRA    NO_EVENT          ; 20% no event (0-19)
0000121C                           183      
0000121C                           184  HARD_RANDOM:
0000121C  B07C 005A                185      CMP.W  #90,D0            ; 10% no event (90-99)
00001220  6C00 00DA                186      BGE    NO_EVENT
00001224  B07C 0046                187      CMP.W  #70,D0            ; 20% good day (70-89)
00001228  6C00 009C                188      BGE    GOOD_DAY_EVENT
0000122C  B07C 0032                189      CMP.W  #50,D0            ; 20% snowy (50-69)
00001230  6C00 004A                190      BGE    SNOWY_EVENT
00001234  B07C 0028                191      CMP.W  #40,D0            ; 10% drought (40-49)
00001238  6C00 000E                192      BGE    DROUGHT_EVENT
0000123C  B07C 0014                193      CMP.W  #20,D0            ; 20% bee (20-39)
00001240  6C00 009C                194      BGE    BEE_EVENT
00001244  6000 00B6                195      BRA    NO_EVENT          ; 20% no event (0-19)
00001248                           196      
00001248                           197  DROUGHT_EVENT:
00001248  3238 100C                198      MOVE.W DIFFICULTY,D1
0000124C  B27C 0001                199      CMP.W  #1,D1
00001250  6700 0010                200      BEQ    HARD_DROUGHT
00001254  0478 000A 1002           201      SUB.W  #10,FOOD
0000125A  5B78 1006                202      SUB.W  #5,HAPPINESS
0000125E  6000 000E                203      BRA    DROUGHT_DONE
00001262                           204      
00001262                           205  HARD_DROUGHT:
00001262  0478 000F 1002           206      SUB.W  #15,FOOD
00001268  0478 000A 1006           207      SUB.W  #10,HAPPINESS
0000126E                           208      
0000126E                           209  DROUGHT_DONE:
0000126E  43F9 000023F4            210      LEA    DROUGHT_MSG,A1
00001274  6100 FE94                211      BSR    PRINT_STRING
00001278  6000 0084                212      BRA    EVENT_DONE
0000127C                           213  
0000127C                           214  SNOWY_EVENT:
0000127C  3238 100C                215      MOVE.W DIFFICULTY,D1
00001280  B27C 0001                216      CMP.W  #1,D1
00001284  6700 001C                217      BEQ    HARD_SNOWY
00001288  0478 000A 1006           218      SUB.W  #10,HAPPINESS
0000128E  3038 1004                219      MOVE.W ARMY,D0
00001292  B07C 0005                220      CMP.W  #5,D0
00001296  6D00 0020                221      BLT    SKIP_SNOWY_ARMY
0000129A  5B78 1004                222      SUB.W  #5,ARMY
0000129E  6000 0018                223      BRA    SNOWY_DONE
000012A2                           224      
000012A2                           225  HARD_SNOWY:
000012A2  0478 000F 1006           226      SUB.W  #15,HAPPINESS
000012A8  3038 1004                227      MOVE.W ARMY,D0
000012AC  B07C 0008                228      CMP.W  #8,D0
000012B0  6D00 0006                229      BLT    SKIP_SNOWY_ARMY
000012B4  5178 1004                230      SUB.W  #8,ARMY
000012B8                           231      
000012B8                           232  SNOWY_DONE:
000012B8                           233  
000012B8                           234  SKIP_SNOWY_ARMY:
000012B8  43F9 00002433            235      LEA    SNOWY_MSG,A1
000012BE  6100 FE4A                236      BSR    PRINT_STRING
000012C2  6000 003A                237      BRA    EVENT_DONE
000012C6                           238  
000012C6                           239  GOOD_DAY_EVENT:
000012C6  0678 000F 1000           240      ADD.W  #15,GOLD
000012CC  5A78 1006                241      ADD.W  #5,HAPPINESS
000012D0  43F9 00002471            242      LEA    GOOD_DAY_MSG,A1
000012D6  6100 FE32                243      BSR    PRINT_STRING
000012DA  6000 0022                244      BRA    EVENT_DONE
000012DE                           245  
000012DE                           246  BEE_EVENT:
000012DE  0678 000A 1000           247      ADD.W  #10,GOLD
000012E4  0678 000A 1006           248      ADD.W  #10,HAPPINESS
000012EA  5A78 1004                249      ADD.W  #5,ARMY 
000012EE  43F9 000024A1            250      LEA    BEE_ART,A1
000012F4  6100 FE14                251      BSR    PRINT_STRING
000012F8  6000 0004                252      BRA    EVENT_DONE
000012FC                           253  
000012FC                           254  NO_EVENT:
000012FC  4E75                     255      RTS
000012FE                           256  
000012FE                           257  EVENT_DONE:
000012FE  6100 0316                258      BSR    CLAMP_ZERO
00001302  4E75                     259      RTS
00001304                           260      
00001304                           261  EXPAND_KINGDOM:
00001304  6100 02F0                262      BSR    EXIT
00001308  3238 100C                263      MOVE.W DIFFICULTY,D1
0000130C  B27C 0001                264      CMP.W  #1,D1
00001310  6700 0018                265      BEQ    HARD_EXPAND
00001314  3038 1000                266      MOVE.W GOLD,D0
00001318  B07C 0014                267      CMP.W  #20,D0            ; Normal
0000131C  6D00 024E                268      BLT    INSUFFICIENT
00001320  0478 0014 1000           269      SUB.W  #20,GOLD
00001326  6000 0014                270      BRA    EXPAND_DONE
0000132A                           271  HARD_EXPAND:
0000132A  3038 1000                272      MOVE.W GOLD,D0
0000132E  B07C 001E                273      CMP.W  #30,D0            ; Hard
00001332  6D00 0238                274      BLT    INSUFFICIENT
00001336  0478 001E 1000           275      SUB.W  #30,GOLD
0000133C                           276  EXPAND_DONE:
0000133C  0678 000A 1002           277      ADD.W  #10,FOOD
00001342  5A78 1006                278      ADD.W  #5,HAPPINESS
00001346  5278 1008                279      ADD.W  #1,TURN_COUNT ; add new turn each time gameloop excutig again
0000134A  6100 FE84                280      BSR    RANDOM_EVENT
0000134E  6100 02C6                281      BSR    CLAMP_ZERO
00001352  43F9 000024F3            282      LEA    EXPAND_MSG,A1
00001358  6100 FDB0                283      BSR    PRINT_STRING
0000135C  6000 FD12                284      BRA    GAME_LOOP
00001360                           285  
00001360                           286  COLLECT_TAXES:
00001360  6100 0294                287      BSR    EXIT
00001364  0678 000F 1000           288      ADD.W  #15,GOLD
0000136A  3238 100C                289      MOVE.W DIFFICULTY,D1
0000136E  B27C 0001                290      CMP.W  #1,D1
00001372  6700 000C                291      BEQ    HARD_TAX
00001376  0478 000A 1006           292      SUB.W  #10,HAPPINESS     ; Normal
0000137C  6000 0008                293      BRA    TAX_DONE
00001380                           294  HARD_TAX:
00001380  0478 000F 1006           295      SUB.W  #15,HAPPINESS     ; Hard
00001386                           296  TAX_DONE:
00001386  5278 1008                297      ADD.W  #1,TURN_COUNT ; add new turn each time gameloop excutig again
0000138A  6100 FE44                298      BSR    RANDOM_EVENT
0000138E  6100 0286                299      BSR    CLAMP_ZERO
00001392  43F9 00002507            300      LEA    TAX_MSG,A1
00001398  6100 FD70                301      BSR    PRINT_STRING
0000139C  6000 FCD2                302      BRA    GAME_LOOP
000013A0                           303  
000013A0                           304  TRAIN_ARMY:
000013A0  6100 0254                305      BSR    EXIT
000013A4  3238 100C                306      MOVE.W DIFFICULTY,D1
000013A8  B27C 0001                307      CMP.W  #1,D1
000013AC  6700 0028                308      BEQ    HARD_TRAIN
000013B0  3038 1000                309      MOVE.W GOLD,D0
000013B4  B07C 000A                310      CMP.W  #10,D0            ; Normal
000013B8  6D00 01B2                311      BLT    INSUFFICIENT
000013BC  3038 1002                312      MOVE.W FOOD,D0
000013C0  B07C 0005                313      CMP.W  #5,D0
000013C4  6D00 01A6                314      BLT    INSUFFICIENT
000013C8  0478 000A 1000           315      SUB.W  #10,GOLD
000013CE  5B78 1002                316      SUB.W  #5,FOOD
000013D2  6000 0024                317      BRA    TRAIN_DONE
000013D6                           318  HARD_TRAIN:
000013D6  3038 1000                319      MOVE.W GOLD,D0
000013DA  B07C 000F                320      CMP.W  #15,D0            ; Hard
000013DE  6D00 018C                321      BLT    INSUFFICIENT
000013E2  3038 1002                322      MOVE.W FOOD,D0
000013E6  B07C 0008                323      CMP.W  #8,D0
000013EA  6D00 0180                324      BLT    INSUFFICIENT
000013EE  0478 000F 1000           325      SUB.W  #15,GOLD
000013F4  5178 1002                326      SUB.W  #8,FOOD
000013F8                           327  TRAIN_DONE:
000013F8  5A78 1004                328      ADD.W  #5,ARMY
000013FC  5278 1008                329      ADD.W  #1,TURN_COUNT ; add new turn each time gameloop excutig again
00001400  6100 FDCE                330      BSR    RANDOM_EVENT
00001404  6100 0210                331      BSR    CLAMP_ZERO
00001408  43F9 0000251A            332      LEA    TRAIN_MSG,A1
0000140E  6100 FCFA                333      BSR    PRINT_STRING
00001412  6000 FC5C                334      BRA    GAME_LOOP
00001416                           335  
00001416                           336  DECLARE_WAR:
00001416  6100 01DE                337      BSR    EXIT
0000141A  3238 100C                338      MOVE.W DIFFICULTY,D1
0000141E  B27C 0001                339      CMP.W  #1,D1
00001422  6700 0036                340      BEQ    HARD_WAR
00001426  3038 1004                341      MOVE.W ARMY,D0
0000142A  B07C 000A                342      CMP.W  #10,D0            ; Normal
0000142E  6D00 013C                343      BLT    INSUFFICIENT
00001432  0478 000A 1004           344      SUB.W  #10,ARMY
00001438  3038 100A                345      MOVE.W RANDOM_SEED,D0
0000143C  C0FC 0011                346      MULU   #17,D0
00001440  0640 000B                347      ADD.W  #11,D0
00001444  80FC 0064                348      DIVU   #100,D0
00001448  4840                     349      SWAP   D0
0000144A  31C0 100A                350      MOVE.W D0,RANDOM_SEED
0000144E  B07C 0032                351      CMP.W  #50,D0            ; Normal: 50% win
00001452  6C00 0094                352      BGE    WAR_WIN
00001456  6000 0032                353      BRA    WAR_LOSE
0000145A                           354  HARD_WAR:
0000145A  3038 1004                355      MOVE.W ARMY,D0
0000145E  B07C 000F                356      CMP.W  #15,D0            ; Hard
00001462  6D00 0108                357      BLT    INSUFFICIENT
00001466  0478 000F 1004           358      SUB.W  #15,ARMY
0000146C  3038 100A                359      MOVE.W RANDOM_SEED,D0
00001470  C0FC 0011                360      MULU   #17,D0
00001474  0640 000B                361      ADD.W  #11,D0
00001478  80FC 0064                362      DIVU   #100,D0
0000147C  4840                     363      SWAP   D0
0000147E  31C0 100A                364      MOVE.W D0,RANDOM_SEED
00001482  B07C 003C                365      CMP.W  #60,D0            ; Hard: 40% win
00001486  6C00 0060                366      BGE    WAR_WIN
0000148A                           367      
0000148A                           368  WAR_LOSE: ;randon lose takes 10 happiness
0000148A                           369  
0000148A  6100 016A                370      BSR    EXIT
0000148E  3238 100C                371      MOVE.W DIFFICULTY,D1
00001492  B27C 0001                372      CMP.W  #1,D1
00001496  6700 001E                373      BEQ    HARD_WAR_LOSE
0000149A  0478 000A 1006           374      SUB.W  #10,HAPPINESS     ; Normal
000014A0  3038 1004                375      MOVE.W ARMY,D0
000014A4  B07C 000F                376      CMP.W  #15,D0
000014A8  6D00 0024                377      BLT    SKIP_ARMY_LOSS
000014AC  0478 000F 1004           378      SUB.W  #15,ARMY
000014B2  6000 001A                379      BRA    WAR_LOSE_DONE
000014B6                           380  HARD_WAR_LOSE:
000014B6  0478 000F 1006           381      SUB.W  #15,HAPPINESS     ; Hard
000014BC  3038 1004                382      MOVE.W ARMY,D0
000014C0  B07C 0014                383      CMP.W  #20,D0
000014C4  6D00 0008                384      BLT    SKIP_ARMY_LOSS
000014C8  0478 0014 1004           385      SUB.W  #20,ARMY
000014CE                           386  WAR_LOSE_DONE: 
000014CE                           387  
000014CE                           388  SKIP_ARMY_LOSS:
000014CE  5278 1008                389      ADD.W  #1,TURN_COUNT ; add new turn each time gameloop excutig again
000014D2  6100 FCFC                390      BSR    RANDOM_EVENT
000014D6  6100 013E                391      BSR    CLAMP_ZERO
000014DA  43F9 000023DC            392      LEA    BATTLE_LOSE,A1
000014E0  6100 FC28                393      BSR    PRINT_STRING
000014E4  6000 FB8A                394      BRA    GAME_LOOP
000014E8                           395  
000014E8                           396  WAR_WIN:  ;random win gives 20 gold , 5 happiness
000014E8  6100 010C                397      BSR    EXIT
000014EC  0678 0014 1000           398      ADD.W  #20,GOLD
000014F2  5A78 1006                399      ADD.W  #5,HAPPINESS
000014F6  5B78 1004                400      SUB.W  #5,ARMY           ; Same in both modes
000014FA  5278 1008                401      ADD.W  #1,TURN_COUNT ; add new turn each time gameloop excutig again
000014FE  6100 FCD0                402      BSR    RANDOM_EVENT
00001502  6100 0112                403      BSR    CLAMP_ZERO
00001506  43F9 000023C5            404      LEA    BATTLE_WIN,A1
0000150C  6100 FBFC                405      BSR    PRINT_STRING
00001510  6000 FB5E                406      BRA    GAME_LOOP
00001514                           407  
00001514                           408  TRADE_RESOURCES: ;trading res takes food but adds gold
00001514  6100 00E0                409      BSR    EXIT
00001518  3238 100C                410      MOVE.W DIFFICULTY,D1
0000151C  B27C 0001                411      CMP.W  #1,D1
00001520  6700 0018                412      BEQ    HARD_TRADE
00001524  3038 1002                413      MOVE.W FOOD,D0
00001528  B07C 000F                414      CMP.W  #15,D0            ; Normal
0000152C  6D00 003E                415      BLT    INSUFFICIENT
00001530  0478 000F 1002           416      SUB.W  #15,FOOD
00001536  6000 0014                417      BRA    TRADE_DONE
0000153A                           418  HARD_TRADE:
0000153A  3038 1002                419      MOVE.W FOOD,D0
0000153E  B07C 0014                420      CMP.W  #20,D0            ; Hard
00001542  6D00 0028                421      BLT    INSUFFICIENT
00001546  0478 0014 1002           422      SUB.W  #20,FOOD
0000154C                           423  TRADE_DONE:
0000154C  0678 0014 1000           424      ADD.W  #20,GOLD
00001552  5278 1008                425      ADD.W  #1,TURN_COUNT
00001556  6100 FC78                426      BSR    RANDOM_EVENT ; random events will pops up randomly
0000155A  6100 00BA                427      BSR    CLAMP_ZERO
0000155E  43F9 0000252A            428      LEA    TRADE_MSG,A1
00001564  6100 FBA4                429      BSR    PRINT_STRING
00001568  6000 FB06                430      BRA    GAME_LOOP
0000156C                           431  
0000156C                           432  INSUFFICIENT: ; you can't trade or declare war
0000156C  6100 0088                433      BSR    EXIT
00001570  43F9 00002572            434      LEA    INSUFFICIENT_MSG,A1
00001576  6100 FB92                435      BSR    PRINT_STRING
0000157A  6000 FAF4                436      BRA    GAME_LOOP
0000157E                           437  
0000157E                           438  SAVE_EXIT: ;saving game and exit it
0000157E  43F9 0000253E            439      LEA    EXIT_MSG,A1
00001584  6100 FB84                440      BSR    PRINT_STRING
00001588  6000 006C                441      BRA    EXIT
0000158C                           442  
0000158C                           443  WIN_GAME:
0000158C  43F9 00001AD2            444      LEA    WIN_MSG,A1
00001592  6100 FB76                445      BSR    PRINT_STRING
00001596                           446      
00001596  43F9 00002341            447      LEA    CONTINUE_PROMPT,A1 ; New prompt for continue or exit
0000159C  6100 FB6C                448      BSR    PRINT_STRING
000015A0  6100 FB4C                449      BSR    GET_INPUT ; Get player's choice
000015A4                           450      
000015A4  B03C 0031                451      CMP.B  #'1',D0 ; '1' to continue
000015A8  6700 0016                452      BEQ    CONTINUE_GAME
000015AC  B03C 0032                453      CMP.B  #'2',D0  ; '2' to exit
000015B0  6700 0028                454      BEQ    EXIT_GAME
000015B4                           455      
000015B4  43F9 00002555            456      LEA    INVALID_MSG,A1 ; Invalid choice loops back
000015BA  6100 FB4E                457      BSR    PRINT_STRING
000015BE  60CC                     458      BRA    WIN_GAME  ; Re-prompt on invalid input
000015C0                           459      
000015C0                           460  
000015C0                           461  CONTINUE_GAME:  ; Increase difficulty and reset turn count
000015C0  31FC 0000 1008           462      MOVE.W #0,TURN_COUNT   ; Reset turn count to 0
000015C6  31FC 0001 100C           463      MOVE.W #1,DIFFICULTY     ; Switch to hard mode
000015CC  43F9 00002397            464      LEA    CONTINUE_MSG,A1
000015D2  6100 FB36                465      BSR    PRINT_STRING
000015D6  6000 FA98                466      BRA    GAME_LOOP
000015DA                           467  
000015DA                           468  EXIT_GAME:
000015DA  43F9 0000253E            469      LEA    EXIT_MSG,A1
000015E0  6100 FB28                470      BSR    PRINT_STRING
000015E4  6000 0010                471      BRA    EXIT
000015E8                           472  
000015E8                           473  LOSE_GAME:
000015E8  43F9 00001ED5            474      LEA    LOSE_MSG,A1
000015EE  6100 FB1A                475      BSR    PRINT_STRING
000015F2  6000 0002                476      BRA    EXIT
000015F6                           477  
000015F6                           478  EXIT:
000015F6  48E7 8040                479      MOVEM.L D0/A1,-(A7)
000015FA  303C 000E                480      MOVE    #14,D0
000015FE  43F9 00001664            481      LEA     CRLF,A1
00001604  4E4F                     482      TRAP    #15
00001606  4CDF 0201                483      MOVEM.L (A7)+,D0/A1
0000160A  43F9 00001A5A            484      LEA     LINE_BREAKS,A1
00001610  6100 FAF8                485      BSR    PRINT_STRING
00001614  4E75                     486      RTS
00001616                           487  
00001616                           488  CLAMP_ZERO:
00001616  3038 1000                489      MOVE.W GOLD,D0
0000161A  B07C 0000                490      CMP.W  #0,D0
0000161E  6C00 0008                491      BGE    CHECK_FOOD
00001622  31FC 0000 1000           492      MOVE.W #0,GOLD
00001628                           493  CHECK_FOOD:
00001628  3038 1002                494      MOVE.W FOOD,D0
0000162C  B07C 0000                495      CMP.W  #0,D0
00001630  6C00 0008                496      BGE    CHECK_ARMY
00001634  31FC 0000 1002           497      MOVE.W #0,FOOD
0000163A                           498  CHECK_ARMY:
0000163A  3038 1004                499      MOVE.W ARMY,D0
0000163E  B07C 0000                500      CMP.W  #0,D0
00001642  6C00 0008                501      BGE    CHECK_HAPPINESS
00001646  31FC 0000 1004           502      MOVE.W #0,ARMY
0000164C                           503  CHECK_HAPPINESS:
0000164C  3038 1006                504      MOVE.W HAPPINESS,D0
00001650  B07C 0000                505      CMP.W  #0,D0
00001654  6C00 0008                506      BGE    CLAMP_DONE
00001658  31FC 0000 1006           507      MOVE.W #0,HAPPINESS
0000165E                           508  CLAMP_DONE:
0000165E  4E75                     509      RTS
00001660                           510  
00001660  FFFF FFFF                511      SIMHALT
00001664                           512  
00001664                           513  * -------------------
00001664                           514  * Data Section
00001664                           515  * -------------------
00001664= 0D 0A 00                 516  CRLF:         DC.B   $0D,$0A,0
00001667= 2A 2A 2A 2A 2A 2A ...    517  TITLE_MSG     DC.B  '************************************************************'
000016A3= 0D 0A                    518                DC.B  $0D,$0A
000016A5= 20 20 20 20 20 20 ...    519                DC.B '                             |~~[   ]     ' , $0D, $0A
000016D1= 20 20 20 20 20 20 ...    520                DC.B '                             |            ' , $0D, $0A
000016FD= 20 20 20 20 20 20 ...    521                DC.B '                            |-|           ' , $0D, $0A
00001729= 20 20 20 20 20 20 ...    522                DC.B '                            |-|           ' , $0D, $0A
00001755= 20 20 20 20 20 20 ...    523                DC.B '                            |-|           ' , $0D, $0A
00001781= 20 20 20 20 20 20 ...    524                DC.B '                          []---[]         ' , $0D, $0A
000017AD= 20 20 20 20 20 20 ...    525                DC.B '                        _/  ___  \_       ' , $0D, $0A
000017D9= 20 20 20 20 20 20 ...    526                DC.B '                       |    ===    |      ' , $0D, $0A
00001805= 20 20 20 20 20 20 ...    527                DC.B '                       |  _[===]_  |      ' , $0D, $0A
00001831= 20 20 20 20 20 20 ...    528                DC.B '                       |  |=====|  |      ' , $0D, $0A
0000185D= 20 20 20 20 20 20 ...    529                DC.B '                       |   || ||   |      ' , $0D, $0A
00001889= 20 20 20 20 20 5B ...    530                DC.B '     [][][]=======[][][]=====[]=====[][][]=======[][][]' , $0D, $0A
000018C2= 20 20 20 20 20 5B ...    531                DC.B '     [][][]       [][][]     ||     [][][]       [][][]' , $0D, $0A
000018FB= 20 20 20 20 20 5B ...    532                DC.B '     [][][]       [][][]     ||     [][][]       [][][]' , $0D, $0A
00001934= 20 20 20 20 20 5B ...    533                DC.B '     []  []       []  []    /  \    []  []       []  []' , $0D, $0A
0000196D= 20 20 20 20 20 5B ...    534                DC.B '     []  []       []  []    \__/    []  []       []  []' , $0D, $0A
000019A6= 20 20 20 20 20 5B ...    535                DC.B '     []  []       []  []            []  []       []  []' , $0D, $0A
000019DF= 0D 0A                    536                DC.B  $0D,$0A
000019E1= 20 20 20 20 20 20 ...    537                DC.B  '                 Game Of Tiny Thrones: Strategy RPG',10,13,0
00001A17= 0D 0A                    538                DC.B  $0D,$0A
00001A19= 0D 0A                    539                DC.B  $0D,$0A
00001A1B= 2A 2A 2A 2A 2A 2A ...    540                DC.B  '************************************************************'
00001A57= 0D 0A 00                 541                DC.B  $0D,$0A,0
00001A5A                           542                
00001A5A= 2A 2A 2A 2A 2A 2A ...    543  LINE_BREAKS   DC.B  '************************',10,13,0
00001A75= 41 63 74 69 6F 6E ...    544  PROMPT_MSG    DC.B  'Actions: 1) Expand   2)Tax   3)Train  4)War   5)Trade   6)Exit',10,13,0
00001AB6= 45 6E 74 65 72 20 ...    545  INPUT_PROMPT_MSG DC.B 'Enter your choice (1-6): ',10,13,0
00001AD2= 0D 0A                    546  WIN_MSG       DC.B  $0D,$0A
00001AD4= 20 20 20 20 20 20 ...    547                DC.B '              |~~[   ]                       |~~[   ]' ,$0D,$0A
00001B0B= 20 20 20 20 20 20 ...    548                DC.B '              |              |~~[   ]        |' ,$0D,$0A
00001B3B= 20 20 20 20 20 20 ...    549                DC.B '             [-]             |              [-]' ,$0D,$0A
00001B6C= 20 20 20 20 20 20 ...    550                DC.B '             |-|            |-|             |-|' ,$0D,$0A
00001B9D= 20 20 20 20 20 20 ...    551                DC.B '             |-|            |-|             |-|' ,$0D,$0A
00001BCE= 20 20 20 20 20 20 ...    552                DC.B '             |-|            |-|             |-|' ,$0D,$0A
00001BFF= 20 20 20 20 20 20 ...    553                DC.B '             |-|          []---[]           |-|' ,$0D,$0A 
00001C30= 20 20 20 20 20 20 ...    554                DC.B '          __/   \________/  ___  \_________/   \___' ,$0D,$0A
00001C65= 20 20 20 20 20 20 ...    555                DC.B '         /|       |    |    ===     |    |        |\' ,$0D,$0A
00001C9B= 20 20 20 20 20 20 ...    556                DC.B '        / | [] [] |    |  _[===]_   |    |  [] [] | \' ,$0D,$0A
00001CD2= 20 20 20 20 20 20 ...    557                DC.B '       /  |  ||   |    |  |=====|   |    |    ||  |  \' ,$0D,$0A
00001D0A= 20 20 20 20 20 20 ...    558                DC.B '      /  /|  ||   |    |   || ||    |    |    ||  |   \' ,$0D,$0A
00001D43= 20 20 20 20 20 5B ...    559                DC.B '     [][][]==__===[][][]=====[]=====[][][]===__==[][][]' ,$0D,$0A
00001D7C= 20 20 20 20 20 5B ...    560                DC.B '     [][][] /__\  [][][]\    ||    /[][][]  /__\ [][][]' ,$0D,$0A
00001DB5= 20 20 20 20 20 5B ...    561                DC.B '     [][][]_\__/_ [][][] \   ||   / [][][]__\__/_[][][]' ,$0D,$0A
00001DEE= 20 20 20 20 20 5B ...    562                DC.B '     []  []  \/   []  []  \_/  \_/  []  []   \/  []  []' ,$0D,$0A
00001E27= 20 20 20 20 20 5B ...    563                DC.B '     []  []       []  []    \__/    []  []       []  []' ,$0D,$0A
00001E60= 20 20 20 20 20 5B ...    564                DC.B '     []  []       []  []            []  []       []  []' ,$0D,$0A
00001E99= 20 20 20 20 20 20 ...    565                DC.B '               Your kingdom thrives! Victory!          ',10,13,0
00001ED3= 0D 0A                    566                DC.B  $0D,$0A
00001ED5                           567                
00001ED5= 0D 0A                    568  LOSE_MSG      DC.B  $0D,$0A
00001ED7= 20 20 20 20 20 20 ...    569                DC.B '               |~~[  # ]    # ## ##          ## #  ##    |~~    ' ,$0D,$0A
00001F19= 20 20 20 20 20 20 ...    570                DC.B '              |         #  #   |#~~        ###    # |   ' ,$0D,$0A
00001F53= 20 20 20 20 20 20 ...    571                DC.B '             [-      #  ## ###    |         #   **#   [-    ' ,$0D,$0A
00001F91= 20 20 20 20 20 20 ...    572                DC.B '             |    #    ###*  ###    |-#|    ##  ##  * ###    |-|    ' ,$0D,$0A
00001FD7= 20 20 20 20 20 20 ...    573                DC.B '             |      ## #*#     |-    #        # # |-|   ' ,$0D,$0A
00002011= 20 20 20 20 20 20 ...    574                DC.B '             |  ###  #  ##      |         ##      |###-|    ' ,$0D,$0A
0000204F= 20 20 20 20 20 20 ...    575                DC.B '             |  #  #*#      []---#        ####     *|-|#    ' ,$0D,$0A
0000208D= 20 20 20 20 20 20 ...    576                DC.B '          __/  # \______    __      * ##   # #_/   \    ' ,$0D,$0A
000020C7= 20 20 20 20 20 20 ...    577                DC.B '         /|  # #  #  ##|    |    =      #     |   ##  | ' ,$0D,$0A
00002101= 20 20 20 20 20 20 ...    578                DC.B '        / | []   ## |    |  _[=_     ##     | [**] # |  ' ,$0D,$0A
0000213B= 20 20 20 20 20 20 ...    579                DC.B '       /  |  ||#   |    |  |==       ####    | ||  ##|  ' ,$0D,$0A
00002175= 20 20 20 20 20 20 ...    580                DC.B '      /  /|  ||   *   ###  |   ||  ###         | *||  | ' ,$0D,$0A
000021AF= 20 20 20 20 20 5B ...    581                DC.B '     [][][]==__===[] []===#==[]==##=#[]**#*# []===__=[] ' ,$0D,$0A
000021E9= 20 20 20 20 20 5B ...    582                DC.B '     [] [**] /__\  [] [] \    ||   / []## [] */_###\ **[]' ,$0D,$0A
00002224= 20 20 20 20 20 5B ...    583                DC.B '     []    \**__/_ [] []  \   || ## /  []    \__/_ ******' ,$0D,$0A
0000225F= 20 20 20 20 20 5B ...    584                DC.B '     [] []  \/   [] []   \**_/  \_/  [] []  \/          ' ,$0D,$0A
00002299= 20 20 20 20 20 5B ...    585                DC.B '     []          [] []    \ /    [] []        []     ' ,$0D,$0A
000022D0= 20 20 20 20 20 5B ...    586                DC.B '     [] []       []          __    [] []             ' ,$0D,$0A
00002307= 20 20 20 20 20 20 ...    587                DC.B '           Your kingdom has collapsed. Game Over.    ',10,13,0
0000233F= 0D 0A                    588                DC.B  $0D,$0A 
00002341                           589   
00002341                           590                
00002341                           591                
00002341= 0D 0A 59 4F 55 20 ...    592  CONTINUE_PROMPT DC.B $0D,$0A,'YOU WON! Do you wish to continue? but with harder difficulty! (1 = Yes, 2 = No): ',10,13,0
00002397= 0D 0A                    593  CONTINUE_MSG  DC.B  $0D,$0A
00002399= 47 61 6D 65 20 63 ...    594                DC.B 'Game continues with increased difficulty!',10,13,0
000023C5= 20 59 6F 75 20 77 ...    595  BATTLE_WIN    DC.B  ' You won the battle!',10,13,0
000023DC= 20 59 6F 75 20 6C ...    596  BATTLE_LOSE   DC.B  ' You lost the battle!',10,13,0
000023F4= 0D 0A 20 2A 2A 2A ...    597  DROUGHT_MSG   DC.B  $0D,$0A,' **** A drought strikes! Food and happiness decrease. ****',10,13,0
00002433= 0D 0A 20 2A 2A 2A ...    598  SNOWY_MSG     DC.B  $0D,$0A,' **** Snowy weather hits! Happiness and army suffer. ****',10,13,0  ; Fixed typo ($0AA to $0A)
00002471= 0D 0A 20 2A 2A 2A ...    599  GOOD_DAY_MSG  DC.B  $0D,$0A,' **** A good day brings extra fortune! ****',10,13,0
000024A1                           600   
000024A1= 0D 0A                    601  BEE_ART       DC.B  $0D,$0A
000024A3= 28 3E 20 28 5F 5F ...    602                DC.B '(> (___)' ,$0D,$0A
000024AD= 20 5C 28 6F 5E 2D ...    603                DC.B ' \(o^-^o)' ,$0D,$0A
000024B8= 20 28 22 29 4F 20 ...    604                DC.B ' (")O O(")' ,$0D,$0A
000024C4= 20 2A 2A 2A 2A 20 ...    605   DC.B ' **** A friendly bee visits! Buzz buzz! ****',10,13,0
000024F3                           606  
000024F3= 4B 69 6E 67 64 6F ...    607  EXPAND_MSG    DC.B  'Kingdom expanded!',10,13,0
00002507= 54 61 78 65 73 20 ...    608  TAX_MSG       DC.B  'Taxes collected!',10,13,0
0000251A= 41 72 6D 79 20 74 ...    609  TRAIN_MSG     DC.B  'Army trained!',10,13,0
0000252A= 52 65 73 6F 75 72 ...    610  TRADE_MSG     DC.B  'Resources traded!',10,13,0
0000253E= 47 61 6D 65 20 73 ...    611  EXIT_MSG      DC.B  'Game saved. Goodbye!',10,13,0
00002555= 49 6E 76 61 6C 69 ...    612  INVALID_MSG   DC.B  'Invalid choice! Try again.',10,13,0
00002572= 20 49 6E 73 75 66 ...    613  INSUFFICIENT_MSG DC.B ' Insufficient resources!',10,13,0
0000258D= 0D 0A 54 75 72 6E ...    614  TURN_LABEL    DC.B  $0D,$0A,'Turn:',0
00002595= 0D 0A 47 6F 6C 64 ...    615  GOLD_LABEL    DC.B  $0D,$0A,'Gold:',0
0000259D= 0D 0A 46 6F 6F 64 ...    616  FOOD_LABEL    DC.B  $0D,$0A,'Food:',0
000025A5= 0D 0A 41 72 6D 79 ...    617  ARMY_LABEL    DC.B  $0D,$0A,'Army:',0
000025AD= 0D 0A 48 61 70 70 ...    618  HAPPINESS_LABEL DC.B $0D,$0A,'Happiness:',0
000025BA                           619  
000025BA                           620      END    START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
ARMY                1004
ARMY_LABEL          25A5
BATTLE_LOSE         23DC
BATTLE_WIN          23C5
BEE_ART             24A1
BEE_EVENT           12DE
CHECK_ARMY          163A
CHECK_FOOD          1628
CHECK_HAPPINESS     164C
CLAMP_DONE          165E
CLAMP_ZERO          1616
COLLECT_TAXES       1360
CONTINUE_GAME       15C0
CONTINUE_MSG        2397
CONTINUE_PROMPT     2341
CONVERT_LOOP        11AC
COPY_DONE           11A0
COPY_STRING         1196
CRLF                1664
DATA_SECTION        1000
DECLARE_WAR         1416
DIFFICULTY          100C
DISPLAY_STATS       1112
DROUGHT_DONE        126E
DROUGHT_EVENT       1248
DROUGHT_MSG         23F4
EVENT_DONE          12FE
EXIT                15F6
EXIT_GAME           15DA
EXIT_MSG            253E
EXPAND_DONE         133C
EXPAND_KINGDOM      1304
EXPAND_MSG          24F3
FOOD                1002
FOOD_LABEL          259D
GAME_LOOP           1070
GET_INPUT           10EE
GOLD                1000
GOLD_LABEL          2595
GOOD_DAY_EVENT      12C6
GOOD_DAY_MSG        2471
HAPPINESS           1006
HAPPINESS_LABEL     25AD
HARD_DROUGHT        1262
HARD_EXPAND         132A
HARD_RANDOM         121C
HARD_SNOWY          12A2
HARD_TAX            1380
HARD_TRADE          153A
HARD_TRAIN          13D6
HARD_WAR            145A
HARD_WAR_LOSE       14B6
INPUT_PROMPT_MSG    1AB6
INSUFFICIENT        156C
INSUFFICIENT_MSG    2572
INVALID_MSG         2555
LINE_BREAKS         1A5A
LOSE_GAME           15E8
LOSE_MSG            1ED5
NORMAL_RANDOM       11F0
NO_EVENT            12FC
NUM_TO_STRING       11A2
POP_DIGITS          11C2
PRINT_STRING        110A
PROMPT_MSG          1A75
RANDOM_EVENT        11D0
RANDOM_SEED         100A
SAVE_EXIT           157E
SKIP_ARMY_LOSS      14CE
SKIP_SNOWY_ARMY     12B8
SNOWY_DONE          12B8
SNOWY_EVENT         127C
SNOWY_MSG           2433
START               105E
STATS_BUFFER        100E
TAX_DONE            1386
TAX_MSG             2507
TITLE_MSG           1667
TRADE_DONE          154C
TRADE_MSG           252A
TRADE_RESOURCES     1514
TRAIN_ARMY          13A0
TRAIN_DONE          13F8
TRAIN_MSG           251A
TURN_COUNT          1008
TURN_LABEL          258D
WAR_LOSE            148A
WAR_LOSE_DONE       14CE
WAR_WIN             14E8
WIN_GAME            158C
WIN_MSG             1AD2
ZERO_CASE           11CA
